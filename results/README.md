# FLITS Analysis Results

This directory contains all analysis outputs organized by burst and pipeline.

## Directory Structure

```
results/
├── README.md                   # This file
└── bursts/
    └── {burst_name}/
        ├── scattering/         # Scattering analysis outputs
        │   ├── FRB_four_panel.pdf
        │   ├── FRB_comp_diagnostics.pdf
        │   ├── *_corner.png
        │   └── *.pkl          # Pickled samplers
        ├── scintillation/      # Scintillation analysis outputs
        │   ├── ACF_*.pdf
        │   └── *.json
        ├── dm_refinement/      # DM estimation outputs
        │   └── dm_curve.pdf
        └── demo/              # Demo/test outputs
```

## Output Files by Pipeline

### Scattering Analysis

Generated by `flits-scat` or scattering notebooks:

- `FRB_four_panel.pdf` - 4-panel diagnostic plot (data, model, residuals, ACF)
- `FRB_comp_diagnostics.pdf` - 16-panel comparison diagnostic
- `{burst}_corner.png` - Corner plot with parameter posteriors
- `{burst}_sampler_{model}.pkl` - Pickled emcee sampler objects
- `{burst}_bic_table.csv` - Model selection BIC table

### Scintillation Analysis

Generated by `flits-scint` or scintillation notebooks:

- `ACF_fit.pdf` - ACF plot with model fit
- `noise_analysis.pdf` - Noise characterization
- `{burst}_scint_results.json` - Scintillation parameters (ν_s, t_s)
- `2d_scint_fit.pdf` - 2D scintillation model fit (if applicable)

### DM Refinement

Generated by scattering pipeline with `--refine-dm` flag:

- `dm_curve.pdf` - DM coherence curve
- `dm_refinement.json` - Optimized DM value and uncertainty

## Migrated Results

Results previously in `output/`, `demo_output/`, and `real_data_output/` have been migrated:

- `demo_output/casey_dsa/` → `results/bursts/casey/demo/`
- `output/casey_chime/` → `results/bursts/casey/scattering/`
- `real_data_output/` → `results/bursts/freya/scattering/`

## Usage

### Accessing Results

```python
from pathlib import Path

# Get scattering results for Casey
casey_scat_dir = Path("results/bursts/casey/scattering")
four_panel = casey_scat_dir / "FRB_four_panel.pdf"
```

### Running Analysis with Correct Output Paths

The pipelines will automatically save to the correct locations when you specify a burst name:

```bash
# Scattering analysis - outputs to results/bursts/{name}/scattering/
flits-scat scattering/configs/bursts/casey_dsa.yaml

# Scintillation analysis - outputs to results/bursts/{name}/scintillation/
flits-scint scintillation/configs/{burst}.yaml
```

## Notes

- Results files (_.pdf, _.pkl, \*.json) are **not tracked by git** (see `.gitignore`)
- For archival results, run analyses and commit the output JSON files
- Large plot files should be regenerated rather than stored in git
